<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>&quot;Fast&quot; Test</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
      integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="style.css" />
    <script>
      function updateOptions() {
        let EIN = document.getElementById("userEIN").value;
        if (document.getElementById("numberValue").value.startsWith("SGEA")) {
          document.getElementById("spanTest").innerHTML =
            '<button type="button" class="btn btn-primary"><a href="tel:+441332280841,3186,,' +
            document.getElementById("numberValue").value.substring(4) +
            '%23,1,1">Tap for Test</a></button>';

          document.getElementById("spanTone").innerHTML =
            '<<button type="button" class="btn btn-primary">a href="tel:+441332280841,3185,,' +
            document.getElementById("numberValue").value.substring(4) +
            '%23,1,2,1">Tap for Tone</a></button>';
        } else if (
          document.getElementById("numberValue").value.startsWith("OGEA")
        ) {
          document.getElementById("spanTest").innerHTML =
            '<button type="button" class="btn btn-primary"><a href="tel:+441332280841,3181,,' +
            document.getElementById("numberValue").value.substring(4) +
            '%23,1,1">Tap for Test</a></button>';

          document.getElementById("spanTone").innerHTML =
            '<button type="button" class="btn btn-primary"><a href="tel:+441332280841,3185,,' +
            document.getElementById("numberValue").value.substring(4) +
            '%23,1,1,1">Tap for Tone</a></button>';
        } else if (
          document.getElementById("numberValue").value.startsWith("0")
        ) {
          if (EIN) {
            document.getElementById("spanTest").innerHTML =
              '<button type="button" class="btn btn-primary"><a href="tel:+448000665378,' +
              EIN +
              "%23,11," +
              document.getElementById("numberValue").value +
              '%23,,2">Tap for Eclipse Test</a></button>';
          } else {
            document.getElementById("spanTest").innerHTML =
              '<button type="button" class="btn btn-primary"><a href="tel:+441332280841,311,,' +
              document.getElementById("numberValue").value +
              '%23,1,1,1,1">Tap for Test</a></button>';
          }

          document.getElementById("spanTone").innerHTML =
            '<button type="button" class="btn btn-primary"><a href="tel:+441332280841,314,,' +
            document.getElementById("numberValue").value +
            '%23,1,1">Tap for Tone</a></button>';
        } else {
          document.getElementById("spanTest").innerHTML =
            '<button type="button" class="btn btn-danger">No valid OGEA/SGEA/DN detected</button>';
          document.getElementById("spanTone").innerHTML = "";
        }
        return;

        var pasteButton = document.getElementById("paste");
        pasteButton.addEventListener("click", function () {
          navigator.clipboard.readText().then(function (text) {
            document.getElementById("numberValue").value = text;
          });
        });
      }
    </script>

    <style>
      html,
      body {
        box-sizing: border-box;
        height: 100%;
        padding: 0;
        margin: 0;
      }
      .wrapper {
        box-sizing: border-box;
        min-height: 100%;
        display: flex;
        flex-direction: column;
      }
      .page-header,
      .page-footer {
        flex-grow: 0;
        flex-shrink: 0;
      }
      .page-body {
        flex-grow: 1;
      }
      a {
        color: white;
      }
    </style>
  </head>
  <body>
    <script src="index.js"></script>
    <div class="wrapper">
      <div class="container page-body">
        <div class="row">
          <h1 class="display-1 text-center page-header">
            &quot;Fast&quot; Test
          </h1>
        </div>
        <form onsubmit="return validateMyForm();">
          <div class="row">
            <label for="numberValue">OGEA/SGEA/DN:</label>
            <!--button id="paste">Paste</button-->
            <input
              type="string"
              id="numberValue"
              name="numberValue"
              onchange="updateOptions()"
              onkeypress="updateOptions()"
              placeholder="OGEA12345678/SGEA12345678/01782123456"
            />
          </div>
          <div class="row">
            <span id="spanTest"></span>
          </div>
          <div class="row">
            <span id="spanTone"></span>
          </div>
        </form>
      </div>
      <div class="container">
        <footer class="page-footer">
          <div
            class="row page-footer"
            style="margin-bottom: 0px; margin-top: auto"
          >
            <span
              ><label for="userEIN">EIN:</label>
              <input id="userEIN" type="number"
            /></span>
          </div>
          <div>
            Disclaimer: Untested and intended purely for personal usage. &copy;
            Ben Nixon 2023
          </div>
        </footer>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
